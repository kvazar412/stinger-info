//DROP DATABASE stinger_info;

CREATE DATABASE stinger_info;

USE stinger_info;

CREATE TABLE films
	(film_id VARCHAR(255),
	film_name VARCHAR(255) NOT NULL,
	film_year INT(4) NOT NULL,
	film_director VARCHAR(70) NOT NULL,
	film_country VARCHAR(70) NOT NULL,
	pcs_info ENUM('YES', 'NO', 'UNKNOWN'),
	PRIMARY KEY (film_id));

CREATE TABLE users
	(user_id VARCHAR(255),
	user_role ENUM('ADMIN', 'USER'),
	PRIMARY KEY (user_id));
	
CREATE TABLE voutes
	(film_id VARCHAR(255) NOT NULL,
	user_id VARCHAR(255) NOT NULL,
	vote_changed DATE NOT NULL,
	vote_value ENUM('YES', 'NO'),
	PRIMARY KEY (film_id, user_id),
	FOREIGN KEY (film_id) REFERENCES films (film_id),
	FOREIGN KEY (user_id) REFERENCES users (user_id));